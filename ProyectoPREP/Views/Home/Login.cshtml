@{
    Layout = null;
}

<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css">
<title>Login - Servicio Nacional de Salud</title>

<div class="container d-flex align-items-center justify-content-center min-vh-100">
    <div class="login-form bg-white p-4 rounded shadow-sm wow fadeIn" autocomplete="off">
        <div class="text-center mb-4">
            <img src="/Content/img/vectores/logoazul.svg" alt="SNS Logo" class="mb-3" style="width: 120px;">
            <h1 class="h4 text-uppercase">Formulario de Selección Proxilaxis Prep-Exposición</h1>
        </div>

        <form asp-action="Login" asp-controller="Home" method="post">
            <div class="mb-3 text-center">
                <label for="Usuario" class="form-label">Utilice su nombre de usuario (cédula) y contraseña para acceder a la Intranet del SNS.</label>
                <input required type="text" class="form-control" id="Usuario" name="Usuario" placeholder="Cédula" minlength="13" maxlength="13" oninput="this.value = this.value.replace(/[^0-9,-]/,'')" onkeypress="ValidarCedulaPasaporte(this.value)">
            </div>
            <div class="mb-3">
                <label for="Password" class="form-label">Contraseña</label>
                <input required type="password" class="form-control" id="Password" name="Password" title="El password es requerido.">
                <span class="text-danger" style="margin-left:20px">@TempData["error"]</span>
            </div>
            <div class="d-grid">
                <button type="submit" class="btn btn-primary" id="Ejecutar" name="Ejecutar">Iniciar Sesión</button>
            </div>
        </form>

        <div class="text-center mt-4 text-muted">
            &copy; @{
                ViewBag.Year = DateTime.Now.Year;
            } @ViewBag.Year Servicio Nacional de Salud. Todos los Derechos Reservados.
        </div>
    </div>
</div>

<style>
    body {
        font-family: 'Roboto', sans-serif;
        background-color: #005476;
        margin: 0;
    }

    .login-form {
        max-width: 400px;
    }

    .form-label {
        color: #555;
    }

    .btn-primary {
        background-color: #005476;
        border-color: #005476;
    }

        .btn-primary:hover {
            background-color: #004494;
            border-color: #004494;
        }

    .text-muted {
        font-size: 0.875rem;
    }
</style>

<script>
    function ValidarCedulaPasaporte(a) {
        if (true) {
            var datos = a;
            let resultado = datos;
            if (resultado.length == 3) {
                resultado = datos + "-";
            }
            if (resultado.length == 11) {
                resultado = datos + "-";
            }
            if (resultado.length <= 13) {
                document.getElementById("Usuario").value = resultado;
            }
        }
    }
</script>
